# Build Infrastructure using Terraform for AWS

## Prerequisites

[Latest version of the terraform](https://learn.hashicorp.com/tutorials/terraform/install-cli?in=terraform/aws-get-started)

[An AWS account](https://aws.amazon.com/free/)

The [AWS CLI](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html) installed

Your AWS credentials configured locally.

1. With your account created and the CLI installed configure the AWS CLI.

```shell-session
$ aws configure
```

​	Follow the prompts to input your AWS Access Key ID and Secret Access Key, which you'll find on [this page](https://console.aws.amazon.com/iam/home?#security_credential).

The set of files used to describe infrastructure in Terraform is known as a Terraform *configuration*. Each configuration should be in its own directory.

## Initialize the directory

When you create a new configuration — or check out an existing configuration from version control — you need to initialize the directory with `terraform init`

Terraform uses a plugin-based architecture to support hundreds of infrastructure and service providers. Initializing a configuration directory downloads and installs providers used in the configuration, which in this case is the `aws` provider. Subsequent commands will use local settings and data during initialization.

Terraform downloads the `aws` provider and installs it in a hidden subdirectory of the current working directory. The output shows which version of the plugin was installed.

## Create infrastructure

In the same directory as the `.tf` file you created, run `terraform apply`. 

This output shows the *execution plan*, describing which actions Terraform will take in order to change real infrastructure to match the configuration.

The output format is similar to the diff format generated by tools such as Git. The output has a `+` next to `aws_instance.example`, meaning that Terraform will create this resource. Beneath that, it shows the attributes that will be set. When the value displayed is `(known after apply)`, it means that the value won't be known until the resource is created.

Terraform will now pause and wait for your approval before proceeding. If anything in the plan seems incorrect or dangerous, it is safe to abort here with no changes made to your infrastructure.

In this case the plan is acceptable, so type `yes` at the confirmation prompt to proceed. Executing the plan will take a few minutes since Terraform waits for the aws resource that you want to create become available.

## Destroy infrastructure

The `terraform destroy` command terminates resources defined in your Terraform configuration. This command is the reverse of `terraform apply` in that it terminates all the resources specified by the configuration. It does *not* destroy resources running elsewhere that are not described in the current configuration

Destroying your infrastructure is a rare event in production environments. But if you're using Terraform to spin up multiple environments such as development, test, QA environments, then destroying is a useful action.



Example scripts can be found in **Terraform-Scripts** sub-folder under **Task5** folder. The Terraform-Scripts folder has 2 subfolders.

1. exercise_1 - Here you will find the Terraform scripts to create EC2 instances
2. exercise_2 - Here you will find the Terraform scrips to create a AWS Lambda service. This script makes uses variable and output functionality with in Terraform. 



For further details on how to configure and crate terraform scripts for AWS please refer the below links

https://learn.hashicorp.com/collections/terraform/aws-get-started 

https://learn.hashicorp.com/collections/terraform/aws